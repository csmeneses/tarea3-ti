/*! For license information please see main.c9586007.chunk.js.LICENSE.txt */
(this["webpackJsonptarea3-ti"]=this["webpackJsonptarea3-ti"]||[]).push([[0],{131:function(e,t,n){},133:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(32),a=n.n(s),i=(n(82),n(83),n(22)),r=n(21),j=n(74),o=n.n(j),l=n(145),b=n(146),d=n(147),O=n(150),u=n(144),h=n(149),x=n(143),p=(n(113),n(131),n(1)),f=n(31).v4,m=function(e){var t=e.airline,n=e.code,s=e.destination,a=e.origin,i=e.passengers,j=e.plane,o=e.seats,l=Object(c.useState)(""),b=Object(r.a)(l,2),d=(b[0],b[1],Object(c.useState)("")),O=Object(r.a)(d,2);O[0],O[1];return Object(p.jsxs)(h.a,{children:[Object(p.jsx)(h.a.Header,{children:t}),Object(p.jsxs)(h.a.Body,{children:[Object(p.jsx)(h.a.Title,{children:Object(p.jsxs)("b",{children:["Flight ",n]})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Destination:"})," ",s[0],", ",s[1]]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Origin:"})," ",a[0],", ",a[1]]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Plane:"})," ",j]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:"Seats:"})," ",o]}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{className:"pasajeros",children:Object(p.jsx)("b",{children:"Passengers:"})}),Object(p.jsxs)(x.a,{size:"sm",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Age"})]})}),Object(p.jsx)("tbody",{children:i.map((function(e){var t=e.name,n=e.age;return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:t}),Object(p.jsx)("td",{children:n})]},f())}))})]})]})]})},g=(n(133),n(31).v4),v=function(e){var t=e.askFlights,n=e.flights;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Information"}),Object(p.jsx)(O.a,{className:"infoButton boton",onClick:function(e){return t(e)},children:"Get Info"}),Object(p.jsx)(u.a,{children:n.map((function(e){var t=e.airline,n=e.code,c=e.destination,s=e.origin,a=e.passengers,i=e.plane,r=e.seats;return Object(p.jsx)(m,{airline:t,code:n,destination:c,origin:s,passengers:a,plane:i,seats:r},g())}))})]})},S=n(75),y=n.n(S),N=(n(135),function(e){var t=e.name,n=e.date,c=e.message,s=new Date(parseInt(n)),a=y()(s).format("DD/MM/YYYY | HH:mm");return Object(p.jsx)("div",{children:Object(p.jsx)(l.a,{children:Object(p.jsx)(b.a,{children:Object(p.jsx)(d.a,{children:Object(p.jsx)(h.a,{className:"card-mensaje",children:Object(p.jsxs)(h.a.Body,{className:"card-texto",children:[Object(p.jsxs)("b",{children:["(",a,") ",t,":"]}),Object(p.jsx)("br",{}),c]})})})})})})}),w=(n(136),n(31).v4),I=function(e){var t=e.messages;return Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"Mensajes",children:[Object(p.jsxs)("div",{className:"intro",children:[Object(p.jsx)("hr",{}),Object(p.jsx)("b",{children:"\xa1Welcome to the Pilot's chat!"}),Object(p.jsx)("hr",{})]}),t.map((function(e){var t=e.name,n=e.date,c=e.message;return Object(p.jsx)(N,{name:t,date:n,message:c},w())}))]})})},C=(n(137),n(38)),k=n(153),F=n(154),H=n(148),P=n(151),T=n(8),D=n.n(T),E=n.p+"static/media/airport.e74b3de2.png";function A(e){return new D.a.Icon({iconUrl:E,iconSize:[e,e]})}var z=function(e){var t=e.coords_dest,n=e.coords_ori;return Object(p.jsxs)("div",{children:[Object(p.jsx)(H.a,{position:t,icon:A(25)}),Object(p.jsx)(H.a,{position:n,icon:A(25)}),Object(p.jsx)(P.a,{positions:[n,t],color:"red",dashArray:"25"})]})},M=n(152),B=n.p+"static/media/plane.7d45d166.png";var G,Y=function(e){var t,n=e.code,c=e.planes.filter((function(e){return e.code===n})),s=new Set(c.map((function(e){return e.position}))),a=Object(C.a)(Array,Object(i.a)(s));return Object(p.jsxs)("div",{children:[Object(p.jsx)(H.a,{position:a[a.length-1],icon:(t=35,new D.a.Icon({iconUrl:B,iconSize:[t,t]})),onmouseover:function(e){e.target.openPopup()},onmouseout:function(e){e.target.closePopup()},children:Object(p.jsxs)(M.a,{children:["Flight ",c[c.length-1].code]})}),Object(p.jsx)(P.a,{positions:a,color:"darkblue",weight:"6"})]})},_=n(31).v4,L=function(e){var t=e.flights,n=e.planes,c=new Set(n.map((function(e){return e.code}))),s=Object(C.a)(Array,Object(i.a)(c));return Object(p.jsxs)("div",{className:"map-container",children:[Object(p.jsx)("h2",{children:"Flight Map"}),Object(p.jsxs)(k.a,{className:"map",center:[-37,-67],zoom:4,style:{height:400,width:"100%"},children:[Object(p.jsx)(F.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.map((function(e){var t=e.destination,n=e.origin;return Object(p.jsx)(z,{coords_dest:t,coords_ori:n},_())})),s.map((function(e){return Object(p.jsx)(Y,{code:e,planes:n},_())}))]})]})},J=n.p+"static/media/control-tower.45e97649.png",U=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),j=Object(r.a)(a,2),u=j[0],h=j[1],x=Object(c.useState)([]),f=Object(r.a)(x,2),m=f[0],g=f[1],S=Object(c.useState)([]),y=Object(r.a)(S,2),N=y[0],w=y[1],C=Object(c.useState)([]),k=Object(r.a)(C,2),F=k[0],H=k[1];Object(c.useEffect)((function(){(G=o()("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/",{path:"/flights"})).emit("FLIGHTS")}),[]),Object(c.useEffect)((function(){G.on("CHAT",(function(e){console.log(e),g((function(t){return[].concat(Object(i.a)(t),[e])}))}))}),[]),Object(c.useEffect)((function(){G.on("FLIGHTS",(function(e){console.log(e),w(e)}))}),[]),Object(c.useEffect)((function(){G.on("POSITION",(function(e){H((function(t){return[].concat(Object(i.a)(t),[e])}))}))}),[]);var P=function(e){e.preventDefault(),console.log(u),u&&G.emit("CHAT",{name:n,message:u},(function(){return h("")})),h("")};return Object(p.jsxs)("div",{className:"home",children:[Object(p.jsxs)("h1",{children:[Object(p.jsx)("img",{src:J,className:"logo",alt:"site logo"}),"DCControl Center"]}),Object(p.jsxs)(l.a,{fluid:!0,children:[Object(p.jsxs)(b.a,{children:[Object(p.jsx)(d.a,{xs:8,children:Object(p.jsx)(L,{flights:N,planes:F})}),Object(p.jsxs)(d.a,{xs:4,children:[Object(p.jsx)("h2",{children:"Chat"}),Object(p.jsx)(I,{messages:m}),Object(p.jsx)("div",{className:"form-chat",children:Object(p.jsxs)("form",{className:"form",children:[Object(p.jsx)("input",{className:"input",type:"text",placeholder:"Enter your name",value:n,onChange:function(e){var t=e.target.value;return s(t)}}),Object(p.jsx)("input",{className:"input",type:"text",placeholder:"Type a message...",value:u,onChange:function(e){var t=e.target.value;return h(t)},onKeyPress:function(e){return"Enter"===e.key?P(e):null}})," ",Object(p.jsx)(O.a,{className:"boton",onClick:function(e){return P(e)},children:"Send"})," "]})})]})]}),Object(p.jsx)(b.a,{children:Object(p.jsxs)(d.a,{children:[Object(p.jsx)("hr",{}),Object(p.jsx)(v,{askFlights:function(e){e.preventDefault(),console.log("Pidiendo vuelos"),G.emit("FLIGHTS")},flights:N})]})})]})]})},K=n(77),W=n(7),q=function(){return Object(p.jsx)(K.a,{children:Object(p.jsx)(W.a,{path:"/tarea3-ti",exact:!0,component:U})})};a.a.render(Object(p.jsx)(q,{}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.c9586007.chunk.js.map
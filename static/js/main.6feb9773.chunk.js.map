{"version":3,"sources":["components/Home/Info/Flight/Flight.js","components/Home/Info/Info.js","components/Home/Messages/Message/Message.js","components/Home/Messages/Messages.js","components/Home/MyMap/icons/airport.png","components/Home/MyMap/Spot/Spot.js","components/Home/MyMap/icons/plane.png","components/Home/MyMap/Plane/Plane.js","components/Home/MyMap/MyMap.js","components/Home/Home.js","App.js","index.js"],"names":["uuidv4","require","v4","Flight","airline","code","destination","origin","passengers","plane","seats","useState","className","map","name","age","Info","askFlights","flights","onClick","e","Mensaje","date","message","date_full","Date","parseInt","date_pretty","moment","format","Messages","messages","getSpot","_spotSize","L","Icon","iconUrl","spot","iconSize","Spot","coords_dest","coords_ori","Marker","position","icon","Polyline","positions","color","dashArray","Plane","my_planes","planes","filter","set","Set","Array","length","onmouseover","target","openPopup","onmouseout","closePopup","Popup","weight","socket","MyMap","codes","Map","center","zoom","style","height","width","TileLayer","attribution","url","Home","setName","setMessage","setMessages","setFlights","setPlanes","useEffect","io","path","emit","on","console","log","sendMessage","event","preventDefault","type","placeholder","value","onChange","onKeyPress","key","App","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6feb9773.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport axios from 'axios';\r\n\r\nimport './Flight.css';\r\n\r\nconst { v4: uuidv4 } = require('uuid');\r\n\r\nconst Flight = ({ airline, code, destination, origin, passengers, plane, seats }) => {\r\n\r\n    const [lugar_dest, setLugar_dest] = useState('');\r\n    const [lugar_ori, setLugar_ori] = useState('');\r\n\r\n    // const destino = () => {\r\n    //     const lat_dest = destination[0];\r\n    //     const long_dest = destination[1];\r\n\r\n    //     var place_dest = `https://api.mapbox.com/geocoding/v5/mapbox.places/${long_dest},${lat_dest}.json?access_token=pk.eyJ1IjoiY3NtZW5lc2VzIiwiYSI6ImNraWRueWxkZjB0cHQyeG80OHJ0cjhwMG0ifQ.04KZZVYMSB3lpPSby2Guqw`;\r\n\r\n    //     fetch(place_dest).then(function (response) {\r\n    //         return response.json();\r\n    //     }).then(function (obj) {\r\n            \r\n    //         var feat = obj.features\r\n    //         if (feat.length >= 3) {\r\n    //             setLugar_dest(feat[feat.length - 2].place_name);\r\n    //         } else {\r\n    //             setLugar_dest(feat[0].place_name);\r\n    //         }\r\n    //     });\r\n    // };\r\n\r\n    // destino();\r\n\r\n    // useEffect(() => {\r\n    //     const lat_ori = origin[0];\r\n    //     const long_ori = origin[1];\r\n\r\n    //     var place_ori = `https://api.mapbox.com/geocoding/v5/mapbox.places/${long_ori},${lat_ori}.json?access_token=pk.eyJ1IjoiY3NtZW5lc2VzIiwiYSI6ImNraWRueWxkZjB0cHQyeG80OHJ0cjhwMG0ifQ.04KZZVYMSB3lpPSby2Guqw`;\r\n\r\n    //     fetch(place_ori).then(function (response) {\r\n    //         return response.json();\r\n    //     }).then(function (obj) {\r\n            \r\n    //         var feat = obj.features\r\n    //         if (feat.length >= 3) {\r\n    //             setLugar_ori(feat[feat.length - 2].place_name);\r\n    //         } else {\r\n    //             setLugar_ori(feat[0].place_name);\r\n    //         }\r\n    //     });\r\n    // }, []);\r\n\r\n    //! AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA \r\n    // useEffect(() => {\r\n    //     axios\r\n    //         .get(`https://api.mapbox.com/geocoding/v5/mapbox.places/${origin[1]},${origin[0]}.json?access_token=pk.eyJ1IjoiY3NtZW5lc2VzIiwiYSI6ImNraWRueWxkZjB0cHQyeG80OHJ0cjhwMG0ifQ.04KZZVYMSB3lpPSby2Guqw`)\r\n    //         .then(res => {\r\n    //             var feat = res.data.features;\r\n    //             if (feat.length >= 3) {\r\n    //                 setLugar_ori(feat[feat.length - 2].place_name);\r\n    //             } else {\r\n    //                 setLugar_ori(feat[feat.length - 2].place_name);\r\n    //             }\r\n    //         })\r\n    //         .catch(err => {\r\n    //             console.log(err)\r\n    //         })\r\n    // });\r\n\r\n    // useEffect(() => {\r\n    //     axios\r\n    //         .get(`https://api.mapbox.com/geocoding/v5/mapbox.places/${destination[1]},${destination[0]}.json?access_token=pk.eyJ1IjoiY3NtZW5lc2VzIiwiYSI6ImNraWRueWxkZjB0cHQyeG80OHJ0cjhwMG0ifQ.04KZZVYMSB3lpPSby2Guqw`)\r\n    //         .then(res => {\r\n    //             var feat = res.data.features;\r\n    //             if (feat.length >= 3) {\r\n    //                 setLugar_dest(feat[feat.length - 2].place_name);\r\n    //             } else {\r\n    //                 setLugar_dest(feat[feat.length - 2].place_name);\r\n    //             }\r\n    //         })\r\n    //         .catch(err => {\r\n    //             console.log(err)\r\n    //         })\r\n    // });\r\n    //! AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\n\r\n    return (\r\n        <div className=\"flight\">\r\n            <h3>Flight {code}</h3>\r\n            <p><b>Airline:</b> {airline}</p>\r\n            <p><b>Destination:</b> {destination[0]}, {destination[1]}</p>\r\n            {/* Pasar a palabras */}\r\n            <p><b>Origin:</b> {origin[0]}, {origin[1]}</p>\r\n            <p><b>Passengers:</b></p>\r\n            {passengers.map(({name, age}) => (\r\n                <div key={uuidv4()}>\r\n                    <ul>\r\n                        <li>{name} ({age})</li>\r\n                    </ul>\r\n                </div>\r\n            ))}\r\n            <p><b>Plane:</b> {plane}</p>\r\n            <p><b>Seats:</b> {seats}</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Flight;","import React from \"react\";\r\n\r\nimport Flight from './Flight/Flight';\r\n\r\nimport './Info.css';\r\n\r\nconst { v4: uuidv4 } = require('uuid');\r\n\r\nconst Info = ({ askFlights, flights }) => {\r\n    return (\r\n        <div>\r\n            <h2>INFO</h2>\r\n            <button className=\"infoButton\" onClick={e => askFlights(e)}>Get Info</button>\r\n            {flights.map(({airline, code, destination, origin, passengers, plane, seats}) => (\r\n                <Flight key={uuidv4()} airline={airline} code={code} destination={destination} origin={origin} passengers={passengers} plane={plane} seats={seats} />\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Info;\r\n  ","import React from \"react\";\r\n\r\nimport moment from 'moment';\r\n\r\nimport './Message.css';\r\n\r\nconst Mensaje = ({ name, date, message }) => {\r\n    \r\n    var date_full = new Date(parseInt(date));\r\n    var date_pretty = moment(date_full).format('DD/MM/YYYY HH:mm');\r\n\r\n    return (\r\n        <div className=\"mensaje\">\r\n            <b>{name}:</b>\r\n            <br></br>\r\n            [{date_pretty}] {message}\r\n            <br></br>\r\n        </div>\r\n    );\r\n  }\r\n\r\nexport default Mensaje;\r\n","import React from \"react\";\r\n\r\nimport Message from './Message/Message';\r\n\r\nimport './Messages.css';\r\n\r\nconst { v4: uuidv4 } = require('uuid');\r\n\r\nconst Messages = ({ messages }) => {\r\n    return (\r\n        <div className=\"Mensajes\">\r\n            <h2>Messages</h2>\r\n            {messages.map(({name, date, message}) => (\r\n                <Message key={uuidv4()} name={name} date={date} message={message} />\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Messages;\r\n","export default __webpack_public_path__ + \"static/media/airport.e74b3de2.png\";","import React from \"react\";\r\n\r\nimport {Marker, Polyline} from 'react-leaflet'\r\nimport L from 'leaflet'\r\n\r\nimport spot from '../icons/airport.png'\r\n\r\nfunction getSpot(_spotSize) {\r\n    return new L.Icon({\r\n        iconUrl: spot,\r\n        iconSize: [_spotSize, _spotSize]\r\n    })\r\n}\r\n\r\nconst Spot = ({ coords_dest, coords_ori }) => {\r\n    return (\r\n        <div>\r\n            <Marker position={coords_dest} icon={getSpot(25)}>\r\n            </Marker>\r\n            <Marker position={coords_ori} icon={getSpot(25)}>\r\n            </Marker>\r\n            <Polyline positions={[coords_ori, coords_dest]} color={'red'} dashArray={'25'} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Spot;\r\n","export default __webpack_public_path__ + \"static/media/plane.7d45d166.png\";","import React from \"react\";\r\n\r\nimport {Marker, Polyline, Popup} from 'react-leaflet'\r\nimport L from 'leaflet'\r\n\r\nimport plane from '../icons/plane.png'\r\n\r\nfunction getSpot(_spotSize) {\r\n    return new L.Icon({\r\n        iconUrl: plane,\r\n        iconSize: [_spotSize, _spotSize]\r\n    })\r\n}\r\n\r\nconst Plane = ({ code, planes }) => {\r\n\r\n    var my_planes = planes.filter(plane => plane.code === code);\r\n    // console.log(my_planes);\r\n\r\n    var set = new Set(my_planes.map(plane => plane.position));\r\n    var positions = new Array(...set);\r\n\r\n    return (\r\n        <div>\r\n            <Marker \r\n                position={positions[positions.length - 1]} \r\n                icon={getSpot(35)}\r\n                onmouseover={(e) => {e.target.openPopup();}} \r\n                onmouseout={(e) => {e.target.closePopup();}}\r\n            >\r\n            <Popup>\r\n                Flight {my_planes[my_planes.length - 1].code}\r\n            </Popup>\r\n            </Marker>\r\n            <Polyline positions={positions} color={'darkblue'} weight=\"6\"/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Plane;","import React, {useState} from \"react\";\r\nimport {Map, TileLayer, Marker, Polyline} from 'react-leaflet'\r\n\r\nimport L from 'leaflet'\r\n\r\nimport Spot from './Spot/Spot'\r\nimport Plane from './Plane/Plane'\r\n\r\nimport planeIcon from './icons/black-circle.png'\r\n\r\nconst { v4: uuidv4 } = require('uuid');\r\n\r\nfunction getPlane(_spotSize) {\r\n    return new L.Icon({\r\n        iconUrl: planeIcon,\r\n        iconSize: [_spotSize, _spotSize]\r\n    })\r\n}\r\n\r\nconst MyMap = ({ flights, planes }) => {\r\n    const position = [-37, -67];\r\n\r\n    // const [codes, setCodes] = useState([]);\r\n\r\n    var set = new Set(planes.map(plane => plane.code));\r\n    var codes = new Array(...set);\r\n\r\n    // for (let code of codes) {\r\n    //     console.log(planes.filter(plane => plane.code === code));\r\n    // }\r\n\r\n    return (\r\n        <div className=\"map-container\">\r\n            <h2>Flight Map</h2>\r\n            <Map \r\n                className=\"map\"\r\n                center={position}\r\n                zoom={4}\r\n                style={{height: 400, width: \"100%\"}}\r\n            >\r\n                <TileLayer\r\n                    attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                />\r\n                {flights.map(({destination, origin}) => (\r\n                    <Spot key={uuidv4()} coords_dest={destination} coords_ori={origin} />\r\n                ))}\r\n\r\n                {codes.map((code) => (\r\n                    <Plane key={uuidv4()} code={code} planes={planes} />\r\n                ))}\r\n\r\n            </Map>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MyMap;","import React, { useState, useEffect } from \"react\";\r\nimport io from 'socket.io-client';\r\n\r\nimport Info from './Info/Info'\r\nimport Messages from './Messages/Messages'\r\n\r\nimport './Home.css';\r\nimport MyMap from \"./MyMap/MyMap\";\r\n\r\nconst ENDPOINT = 'wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/';\r\n\r\nlet socket;\r\n\r\n// const { v4: uuidv4 } = require('uuid');\r\n\r\nconst Home = () => {\r\n\r\n    const [name, setName] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [messages, setMessages] = useState([]);\r\n    const [flights, setFlights] = useState([]);\r\n    const [planes, setPlanes] = useState([]);\r\n    \r\n\r\n    useEffect(() => {\r\n    socket = io(ENDPOINT, {path: '/flights'});\r\n    socket.emit('FLIGHTS')\r\n    }, []);\r\n    \r\n    // Recibir mensaje\r\n    useEffect(() => {\r\n        socket.on('CHAT', message => {\r\n            console.log(message);\r\n            setMessages(messages => [ ...messages, message ]);\r\n            // console.log(messages);\r\n        });\r\n    }, []);\r\n\r\n    // Recibir flights\r\n    useEffect(() => {\r\n        socket.on('FLIGHTS', flights => {\r\n            console.log(flights);\r\n            setFlights(flights);\r\n        });\r\n    }, []);\r\n\r\n    \r\n    //! Recibir position\r\n    useEffect(() => {\r\n        socket.on('POSITION', plane => {\r\n            setPlanes(planes => [ ...planes, plane ]);\r\n            // setCodes(codes => [ ...codes, plane.code]);\r\n            \r\n            // if(![...codes].includes(plane.code)){\r\n            //     setCodes(codes => [ ...codes, plane.code ]);\r\n            // } else {\r\n            //     setCodes(codes => [ ...codes, \"AAAAAAAA\"]);\r\n            // }\r\n            // if (!(codes.filter(e => e === 'INT471').length > 0)) {\r\n            //     setCodes(codes => [ ...codes, 'INT471']);\r\n            //     console.log(\"NO ESTAAAAA\")\r\n            // }\r\n        });\r\n    }, []);\r\n\r\n    const sendMessage = (event) => {\r\n        event.preventDefault();\r\n        console.log(message);\r\n        if (message) {\r\n            socket.emit('CHAT', {name: name, message: message}, () => setMessage(''));\r\n        }\r\n        setMessage('');\r\n    }\r\n\r\n    const askFlights = (event) => {\r\n        event.preventDefault();\r\n        console.log('Pidiendo vuelos');\r\n        socket.emit('FLIGHTS');\r\n    }\r\n\r\n    return (\r\n        <div className=\"home\">\r\n            <h1>Control Center</h1>\r\n            <MyMap flights={flights} planes={planes} />\r\n            <Info askFlights={askFlights} flights={flights} />\r\n\r\n            <h2>Chat</h2>\r\n            <div className=\"form-chat\">\r\n                <form className=\"form\">\r\n                    <input\r\n                    className=\"input\"\r\n                    type=\"text\"\r\n                    placeholder=\"Enter your name\"\r\n                    value={name}\r\n                    onChange={({ target: { value } }) => setName(value)}\r\n                    />\r\n                    <input\r\n                    className=\"input\"\r\n                    type=\"text\"\r\n                    placeholder=\"Type a message...\"\r\n                    value={message}\r\n                    onChange={({ target: { value } }) => setMessage(value)}\r\n                    onKeyPress={event => event.key === 'Enter' ? sendMessage(event) : null}\r\n                    />\r\n                    <button className=\"sendButton\" onClick={e => sendMessage(e)}>Send</button>\r\n                </form>\r\n            </div>\r\n            <Messages messages={messages} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\n\r\nimport Home from './components/Home/Home'\r\n\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <Router>\r\n      <Route path=\"/tarea3-ti\" exact component={Home} />\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}
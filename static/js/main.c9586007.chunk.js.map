{"version":3,"sources":["components/Home/Info/Flight/Flight.js","components/Home/Info/Info.js","components/Home/Messages/Message/Message.js","components/Home/Messages/Messages.js","components/Home/MyMap/icons/airport.png","components/Home/MyMap/Spot/Spot.js","components/Home/MyMap/icons/plane.png","components/Home/MyMap/Plane/Plane.js","components/Home/Home.js","components/Home/MyMap/MyMap.js","components/Home/icons/control-tower.png","App.js","index.js"],"names":["uuidv4","require","v4","Flight","airline","code","destination","origin","passengers","plane","seats","useState","Card","Header","Body","Title","className","Table","size","map","name","age","Info","askFlights","flights","Button","onClick","e","CardColumns","Mensaje","date","message","date_full","Date","parseInt","date_pretty","moment","format","Container","Row","Col","Messages","messages","getSpot","_spotSize","L","Icon","iconUrl","spot","iconSize","Spot","coords_dest","coords_ori","Marker","position","icon","Polyline","positions","color","dashArray","socket","Plane","my_planes","planes","filter","set","Set","Array","length","onmouseover","target","openPopup","onmouseout","closePopup","Popup","weight","MyMap","codes","Map","center","zoom","style","height","width","TileLayer","attribution","url","Home","setName","setMessage","setMessages","setFlights","setPlanes","useEffect","io","path","emit","on","console","log","sendMessage","event","preventDefault","src","logo","alt","fluid","xs","type","placeholder","value","onChange","onKeyPress","key","App","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c9586007.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Card, Table } from 'react-bootstrap';\r\n\r\nimport axios from 'axios';\r\n\r\nimport './Flight.css';\r\n\r\nconst { v4: uuidv4 } = require('uuid');\r\n\r\nconst Flight = ({ airline, code, destination, origin, passengers, plane, seats }) => {\r\n\r\n    const [lugar_dest, setLugar_dest] = useState('');\r\n    const [lugar_ori, setLugar_ori] = useState('');\r\n\r\n    // const destino = () => {\r\n    //     const lat_dest = destination[0];\r\n    //     const long_dest = destination[1];\r\n\r\n    //     var place_dest = `https://api.mapbox.com/geocoding/v5/mapbox.places/${long_dest},${lat_dest}.json?access_token=pk.eyJ1IjoiY3NtZW5lc2VzIiwiYSI6ImNraWRueWxkZjB0cHQyeG80OHJ0cjhwMG0ifQ.04KZZVYMSB3lpPSby2Guqw`;\r\n\r\n    //     fetch(place_dest).then(function (response) {\r\n    //         return response.json();\r\n    //     }).then(function (obj) {\r\n            \r\n    //         var feat = obj.features\r\n    //         if (feat.length >= 3) {\r\n    //             setLugar_dest(feat[feat.length - 2].place_name);\r\n    //         } else {\r\n    //             setLugar_dest(feat[0].place_name);\r\n    //         }\r\n    //     });\r\n    // };\r\n\r\n    // destino();\r\n\r\n    // useEffect(() => {\r\n    //     const lat_ori = origin[0];\r\n    //     const long_ori = origin[1];\r\n\r\n    //     var place_ori = `https://api.mapbox.com/geocoding/v5/mapbox.places/${long_ori},${lat_ori}.json?access_token=pk.eyJ1IjoiY3NtZW5lc2VzIiwiYSI6ImNraWRueWxkZjB0cHQyeG80OHJ0cjhwMG0ifQ.04KZZVYMSB3lpPSby2Guqw`;\r\n\r\n    //     fetch(place_ori).then(function (response) {\r\n    //         return response.json();\r\n    //     }).then(function (obj) {\r\n            \r\n    //         var feat = obj.features\r\n    //         if (feat.length >= 3) {\r\n    //             setLugar_ori(feat[feat.length - 2].place_name);\r\n    //         } else {\r\n    //             setLugar_ori(feat[0].place_name);\r\n    //         }\r\n    //     });\r\n    // }, []);\r\n\r\n    //! AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA \r\n    // useEffect(() => {\r\n    //     axios\r\n    //         .get(`https://api.mapbox.com/geocoding/v5/mapbox.places/${origin[1]},${origin[0]}.json?access_token=pk.eyJ1IjoiY3NtZW5lc2VzIiwiYSI6ImNraWRueWxkZjB0cHQyeG80OHJ0cjhwMG0ifQ.04KZZVYMSB3lpPSby2Guqw`)\r\n    //         .then(res => {\r\n    //             var feat = res.data.features;\r\n    //             if (feat.length >= 3) {\r\n    //                 setLugar_ori(feat[feat.length - 2].place_name);\r\n    //             } else {\r\n    //                 setLugar_ori(feat[feat.length - 2].place_name);\r\n    //             }\r\n    //         })\r\n    //         .catch(err => {\r\n    //             console.log(err)\r\n    //         })\r\n    // });\r\n\r\n    // useEffect(() => {\r\n    //     axios\r\n    //         .get(`https://api.mapbox.com/geocoding/v5/mapbox.places/${destination[1]},${destination[0]}.json?access_token=pk.eyJ1IjoiY3NtZW5lc2VzIiwiYSI6ImNraWRueWxkZjB0cHQyeG80OHJ0cjhwMG0ifQ.04KZZVYMSB3lpPSby2Guqw`)\r\n    //         .then(res => {\r\n    //             var feat = res.data.features;\r\n    //             if (feat.length >= 3) {\r\n    //                 setLugar_dest(feat[feat.length - 2].place_name);\r\n    //             } else {\r\n    //                 setLugar_dest(feat[feat.length - 2].place_name);\r\n    //             }\r\n    //         })\r\n    //         .catch(err => {\r\n    //             console.log(err)\r\n    //         })\r\n    // });\r\n    //! AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\n\r\n    return (\r\n        <Card>\r\n            <Card.Header>\r\n                {airline}\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card.Title><b>Flight {code}</b></Card.Title>\r\n                <div><b>Destination:</b> {destination[0]}, {destination[1]}</div>\r\n                <div><b>Origin:</b> {origin[0]}, {origin[1]}</div>\r\n                <div><b>Plane:</b> {plane}</div>\r\n                <div><b>Seats:</b> {seats}</div>\r\n                <hr></hr>\r\n                <div className=\"pasajeros\"><b>Passengers:</b></div>\r\n                <Table size=\"sm\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Name</th>\r\n                            <th>Age</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {passengers.map(({name, age}) => (\r\n                            <tr key={uuidv4()}>\r\n                                <td>{name}</td>\r\n                                <td>{age}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </Table>\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default Flight;","import React from \"react\";\r\nimport { CardColumns, Button } from 'react-bootstrap';\r\n\r\n\r\nimport Flight from './Flight/Flight';\r\n\r\nimport './Info.css';\r\n\r\nconst { v4: uuidv4 } = require('uuid');\r\n\r\nconst Info = ({ askFlights, flights }) => {\r\n    return (\r\n        <div>\r\n            <h2>Information</h2>\r\n            <Button className=\"infoButton boton\" onClick={e => askFlights(e)}>Get Info</Button>\r\n            <CardColumns>\r\n                {flights.map(({airline, code, destination, origin, passengers, plane, seats}) => (\r\n                    <Flight key={uuidv4()} airline={airline} code={code} destination={destination} origin={origin} passengers={passengers} plane={plane} seats={seats} />\r\n                ))}\r\n            </CardColumns>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Info;\r\n  ","import React from \"react\";\r\nimport { Card, Container, Row, Col } from 'react-bootstrap';\r\n\r\nimport moment from 'moment';\r\n\r\nimport './Message.css';\r\n\r\nconst Mensaje = ({ name, date, message }) => {\r\n    \r\n    var date_full = new Date(parseInt(date));\r\n    var date_pretty = moment(date_full).format('DD/MM/YYYY | HH:mm');\r\n\r\n    return (\r\n        <div>\r\n            <Container>\r\n                <Row>\r\n                    <Col>\r\n                        <Card className=\"card-mensaje\">\r\n                            <Card.Body className=\"card-texto\">\r\n                                    <b>({date_pretty}) {name}:</b>\r\n                                    <br></br>\r\n                                    {message}\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </div>\r\n    );\r\n  }\r\n\r\nexport default Mensaje;\r\n","import React from \"react\";\r\n\r\nimport Message from './Message/Message';\r\n\r\nimport './Messages.css';\r\n\r\nconst { v4: uuidv4 } = require('uuid');\r\n\r\nconst Messages = ({ messages }) => {\r\n    return (\r\n        <div>\r\n            {/* <h4>Messages:</h4> */}\r\n            <div className=\"Mensajes\">\r\n                <div className=\"intro\">\r\n                    <hr></hr>\r\n                    <b>¡Welcome to the Pilot's chat!</b>\r\n                    <hr></hr>\r\n                </div>\r\n                {messages.map(({name, date, message}) => (\r\n                    <Message key={uuidv4()} name={name} date={date} message={message} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Messages;\r\n","export default __webpack_public_path__ + \"static/media/airport.e74b3de2.png\";","import React from \"react\";\r\n\r\nimport {Marker, Polyline} from 'react-leaflet'\r\nimport L from 'leaflet'\r\n\r\nimport spot from '../icons/airport.png'\r\n\r\nfunction getSpot(_spotSize) {\r\n    return new L.Icon({\r\n        iconUrl: spot,\r\n        iconSize: [_spotSize, _spotSize]\r\n    })\r\n}\r\n\r\nconst Spot = ({ coords_dest, coords_ori }) => {\r\n    return (\r\n        <div>\r\n            <Marker position={coords_dest} icon={getSpot(25)}>\r\n            </Marker>\r\n            <Marker position={coords_ori} icon={getSpot(25)}>\r\n            </Marker>\r\n            <Polyline positions={[coords_ori, coords_dest]} color={'red'} dashArray={'25'} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Spot;\r\n","export default __webpack_public_path__ + \"static/media/plane.7d45d166.png\";","import React from \"react\";\r\n\r\nimport {Marker, Polyline, Popup} from 'react-leaflet'\r\nimport L from 'leaflet'\r\n\r\nimport plane from '../icons/plane.png'\r\n\r\nfunction getSpot(_spotSize) {\r\n    return new L.Icon({\r\n        iconUrl: plane,\r\n        iconSize: [_spotSize, _spotSize]\r\n    })\r\n}\r\n\r\nconst Plane = ({ code, planes }) => {\r\n\r\n    var my_planes = planes.filter(plane => plane.code === code);\r\n    // console.log(my_planes);\r\n\r\n    var set = new Set(my_planes.map(plane => plane.position));\r\n    var positions = new Array(...set);\r\n\r\n    return (\r\n        <div>\r\n            <Marker \r\n                position={positions[positions.length - 1]} \r\n                icon={getSpot(35)}\r\n                onmouseover={(e) => {e.target.openPopup();}} \r\n                onmouseout={(e) => {e.target.closePopup();}}\r\n            >\r\n            <Popup>\r\n                Flight {my_planes[my_planes.length - 1].code}\r\n            </Popup>\r\n            </Marker>\r\n            <Polyline positions={positions} color={'darkblue'} weight=\"6\"/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Plane;","import React, { useState, useEffect } from \"react\";\r\nimport io from 'socket.io-client';\r\nimport { Button, Container, Row, Col } from 'react-bootstrap';\r\n\r\n\r\nimport Info from './Info/Info'\r\nimport Messages from './Messages/Messages'\r\n\r\nimport './Home.css';\r\nimport MyMap from \"./MyMap/MyMap\";\r\nimport logo from \"./icons/control-tower.png\"\r\n\r\nconst ENDPOINT = 'wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/';\r\n\r\nlet socket;\r\n\r\n// const { v4: uuidv4 } = require('uuid');\r\n\r\nconst Home = () => {\r\n\r\n    const [name, setName] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [messages, setMessages] = useState([]);\r\n    const [flights, setFlights] = useState([]);\r\n    const [planes, setPlanes] = useState([]);\r\n    \r\n\r\n    useEffect(() => {\r\n    socket = io(ENDPOINT, {path: '/flights'});\r\n    socket.emit('FLIGHTS')\r\n    }, []);\r\n    \r\n    // Recibir mensaje\r\n    useEffect(() => {\r\n        socket.on('CHAT', message => {\r\n            console.log(message);\r\n            setMessages(messages => [ ...messages, message ]);\r\n            // console.log(messages);\r\n        });\r\n    }, []);\r\n\r\n    // Recibir flights\r\n    useEffect(() => {\r\n        socket.on('FLIGHTS', flights => {\r\n            console.log(flights);\r\n            setFlights(flights);\r\n        });\r\n    }, []);\r\n\r\n    \r\n    // Recibir position\r\n    useEffect(() => {\r\n        socket.on('POSITION', plane => {\r\n            setPlanes(planes => [ ...planes, plane ]);\r\n        });\r\n    }, []);\r\n\r\n    const sendMessage = (event) => {\r\n        event.preventDefault();\r\n        console.log(message);\r\n        if (message) {\r\n            socket.emit('CHAT', {name: name, message: message}, () => setMessage(''));\r\n        }\r\n        setMessage('');\r\n    }\r\n\r\n    const askFlights = (event) => {\r\n        event.preventDefault();\r\n        console.log('Pidiendo vuelos');\r\n        socket.emit('FLIGHTS');\r\n    }\r\n\r\n    return (\r\n        <div className=\"home\">\r\n            <h1><img src={logo} className=\"logo\" alt=\"site logo\" />DCControl Center</h1>\r\n            <Container fluid>\r\n                <Row>\r\n                    <Col xs={8}>\r\n                        <MyMap flights={flights} planes={planes} />\r\n                    </Col>\r\n                    <Col xs={4}>\r\n                        <h2>Chat</h2>\r\n                        <Messages messages={messages} />\r\n                        <div className=\"form-chat\">\r\n                            <form className=\"form\">\r\n                                <input\r\n                                className=\"input\"\r\n                                type=\"text\"\r\n                                placeholder=\"Enter your name\"\r\n                                value={name}\r\n                                onChange={({ target: { value } }) => setName(value)}\r\n                                />\r\n                                <input\r\n                                className=\"input\"\r\n                                type=\"text\"\r\n                                placeholder=\"Type a message...\"\r\n                                value={message}\r\n                                onChange={({ target: { value } }) => setMessage(value)}\r\n                                onKeyPress={event => event.key === 'Enter' ? sendMessage(event) : null}\r\n                                />\r\n                                {' '}<Button className=\"boton\" onClick={e => sendMessage(e)}>Send</Button>{' '}\r\n                            </form>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        <hr></hr>\r\n                        <Info askFlights={askFlights} flights={flights} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import React from \"react\";\r\nimport {Map, TileLayer} from 'react-leaflet'\r\n\r\nimport Spot from './Spot/Spot'\r\nimport Plane from './Plane/Plane'\r\n\r\nconst { v4: uuidv4 } = require('uuid');\r\n\r\nconst MyMap = ({ flights, planes }) => {\r\n    const position = [-37, -67];\r\n\r\n    // const [codes, setCodes] = useState([]);\r\n\r\n    var set = new Set(planes.map(plane => plane.code));\r\n    var codes = new Array(...set);\r\n\r\n    // for (let code of codes) {\r\n    //     console.log(planes.filter(plane => plane.code === code));\r\n    // }\r\n\r\n    return (\r\n        <div className=\"map-container\">\r\n            <h2>Flight Map</h2>\r\n            <Map \r\n                className=\"map\"\r\n                center={position}\r\n                zoom={4}\r\n                style={{height: 400, width: \"100%\"}}\r\n            >\r\n                <TileLayer\r\n                    attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                />\r\n                {flights.map(({destination, origin}) => (\r\n                    <Spot key={uuidv4()} coords_dest={destination} coords_ori={origin} />\r\n                ))}\r\n\r\n                {codes.map((code) => (\r\n                    <Plane key={uuidv4()} code={code} planes={planes} />\r\n                ))}\r\n            </Map>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MyMap;\r\n","export default __webpack_public_path__ + \"static/media/control-tower.45e97649.png\";","import React from 'react';\r\n\r\nimport Home from './components/Home/Home'\r\n\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <Router>\r\n      <Route path=\"/tarea3-ti\" exact component={Home} />\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport 'leaflet/dist/leaflet.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}